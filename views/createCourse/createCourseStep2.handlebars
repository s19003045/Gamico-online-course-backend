<h2 class="my-3">課程名稱：{{course.name}}</h2>

<h3 class="my-3">Step 2</h3>
<h4 class="my-3">已建立的章節</h4 class="my-3">
<table class="table table-hover table-sm">
  <thead class="thead-dark">
    <tr>
      <th scope="col">LessonNumber</th>
      <th scope="col">Title</th>
      <th scope="col">Time(mins)</th>
      <th scope="col">isPreview</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
    {{#each lessons}}
    <tr>
      <th scope="row">{{this.lessonNumber}}</th>
      <td>{{this.title}}</td>
      <td>{{this.totalTime}}</td>
      <td>
        {{this.isPreview}}
      </td>
      <td>
        <a href="/courses/create/{{../course.id}}/step2/{{this.id}}/edit" class="btn btn-link btn-sm my-0">Edit
        </a>
      </td>
    </tr>
    {{/each}}
    <tr class="table-primary">
      <th scope="row"></th>
      <td></td>
      <td>{{course.totalTime}}</td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
{{#if lesson}}
<div class="d-flex justify-content-start mt-3">
  <a href="/courses/create/{{course.id}}/step2" class="btn btn-primary my-3 mr-5">建立新的章節<i class="fas fa-plus ml-3"></i>
  </a>
</div>
{{/if}}

{{#if lesson}}
<h3 class="mt-3">編輯章節內容</h3>
<form action="/courses/create/{{course.id}}/step2/{{lesson.id}}?_method=PUT" method="POST" class="mt-5">
  <div class="form-group">
    <label for="name">課程章節</label>
    <input type="number" class="form-control" name="lessonNumber" id="lessonNumber" placeholder=""
      value="{{lesson.lessonNumber}}">
  </div>
  <div class="form-group">
    <label for="title">章節名稱</label>
    <input type="text" class="form-control" name="title" id="title" placeholder="" value="{{lesson.title}}">
  </div>
  <div class="form-group">
    <label for="intro">課程簡介</label>
    <input type="text" class="form-control" name="intro" id="intro" placeholder="" value="{{lesson.intro}}">
  </div>
  <div class="form-group">
    <label for="totalTime">章節上課時數 ( 分鐘 )</label>
    <input type="number" class="form-control" name="totalTime" id="totalTime" placeholder=""
      value="{{lesson.totalTime}}">
  </div>
  <div class="form-group">
    <label for="totalTime">是否提供未購買者預覽</label>
  </div>
  <div class="form-group mt-3">
    <div class="form-check">
      <input class="form-check-input" type="radio" name="isPreview" id="isPreview" value="true" checked>
      <label class="form-check-label" for="isPreview">
        提供未購買者預覽
      </label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="isPreview" id="isPreview" value="false">
      <label class="form-check-label" for="isPreview">
        不提供給未購買者預覽
      </label>
    </div>
  </div>

  <div class="form-group purple-border">
    <label for="contents">編輯課程內容</label>
    <textarea class="form-control" name="contents" id="contents" rows="15">{{lesson.contents}}</textarea>
  </div>
  <button type="submit" class="btn btn-primary mr-5">暫存草稿</button>
</form>
{{else}}
<h3 class="mt-3">建立新的章節</h3>
<form action="/courses/create/{{course.id}}/step2" method="POST" class="mt-4">
  <div class="form-group">
    <label for="name">課程章節</label>
    <input type="number" class="form-control" name="lessonNumber" id="lessonNumber" placeholder=""
      value="{{lesson.lessonNumber}}">
  </div>
  <div class="form-group">
    <label for="title">章節名稱</label>
    <input type="text" class="form-control" name="title" id="title" placeholder="" value="{{lesson.title}}">
  </div>
  <div class="form-group">
    <label for="intro">課程簡介</label>
    <input type="text" class="form-control" name="intro" id="intro" placeholder="" value="{{lesson.intro}}">
  </div>
  <div class="form-group">
    <label for="totalTime">章節上課時數 ( 分鐘 )</label>
    <input type="number" class="form-control" name="totalTime" id="totalTime" placeholder=""
      value="{{lesson.totalTime}}">
  </div>
  <div class="form-group">
    <label for="totalTime">是否提供未購買者預覽</label>
  </div>
  <div class="form-group mt-3">
    <div class="form-check">
      <input class="form-check-input" type="radio" name="isPreview" id="isPreview" value="true" checked>
      <label class="form-check-label" for="isPreview">
        提供未購買者預覽
      </label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" name="isPreview" id="isPreview" value="false">
      <label class="form-check-label" for="isPreview">
        不提供給未購買者預覽
      </label>
    </div>
  </div>

  <div class="form-group purple-border">
    <label for="contents">編輯課程內容</label>
    <textarea class="form-control" name="contents" id="contents" rows="15">{{lesson.contents}}</textarea>
  </div>
  <button type="submit" class="btn btn-secondary mr-5">暫存草稿</button>
</form>
{{/if}}



<div class="d-flex justify-content-start mt-3">
  <a href="/courses/create/{{course.id}}/step1" class="btn btn-info my-3 mr-5">上一步
  </a>

  <a href="/courses/create/{{course.id}}/step3" class="btn btn-info my-3">下一步
  </a>
</div>